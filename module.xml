<module>
	<rawname>core</rawname>
	<repo>standard</repo>
	<category>Applications</category>
	<name>Core</name>
	<version>15.0.9.18</version>
	<publisher>Sangoma Technologies Corporation</publisher>
	<license>GPLv3+</license>
	<licenselink>http://www.gnu.org/licenses/gpl-3.0.txt</licenselink>
	<candisable>no</candisable>
	<canuninstall>no</canuninstall>
	<changelog>
		*15.0.9.18* FREEPBX-19643 
		*15.0.9.17* FREEPBX-19734
		*15.0.9.16* FREEPBX-18785
		*15.0.9.15* FREEPBX-19629
		*15.0.9.14* FREEPBX-19762
		*15.0.9.13* Use lazy loading console commands
		*15.0.9.12* Fixing FREEPBX-17867
		*15.0.9.11* FREEPBX-19613
		*15.0.9.10* FREEPBX-19665 Dahdi channels page related issue fixes
		*15.0.9.9* FREEPBX-19658 PHP 7x related issue fixes
		*15.0.9.8* FREEPBX-19626
		*15.0.9.7* FREEPBX-18661 Bulk Handler - Extensions :: import not setting outbound_proxy value
		*15.0.9.6* FREEPBX-19637
		*15.0.9.5* FREEPBX-19543
		*15.0.9.2* Fix astdb callback
		*15.0.9.1* Legacy restore
		*15.0.9* Fixing FREEPBX-18345
		*15.0.8* Fixing FREEPBX-18708
		*15.0.7* Fixing FREEPBX-19483 Extension import ignoring aggregate_mwi field issue
		*15.0.6* fixing legacy restore
		*15.0.5* Asterisk 13.25.0 and 16.2.0 voicemail changes
		*15.0.4* Fixing backup and restore
		*15.0.3.27* Fixing FREEPBX-19389
		*15.0.3.26* FREEPBX-14525 Uniform Behavior: Have trunks return to grid on submit
		*15.0.3.25* FREEPBX-15249 Dialplan missing macro: macro-outisbusy
		*15.0.2.24* Add ability to override the hints set in ext-local
		*15.0.2.23* FREEPBX-18926
		*15.0.3.22* FREEPBX-18879 Unknown or unavailable item requested: 'recvip'
		*15.0.3.21* FREEPBX-18801
		*15.0.3.20* FREEPBX-18880 FREEPBX-18926 FREEPBX-17953 FREEPBX-18942 FREEPBX-18880
		*15.0.3.19* Enable Fast AGI server and dialparties dialplan
		*15.0.3.18* FREEPBX-18526
		*15.0.3.17* FREEPBX-18811
		*15.0.3.16* FREEPBX-18620
		*15.0.3.15* FREEPBX-18745 FREEPBX-18762
		*15.0.3.14* FREEPBX-18509 PSTN calls forwarded off system to PSTN don't have correct CID Name
		*15.0.3.13* Fix xml call
		*15.0.3.11* Callaccounting changes to core
		*15.0.3.10* FREEPBX-18703 Launch AGIs through FastAGI NodeJS Process
		*15.0.3.9* FREEPBX-18637 Ability to remove usage of dialparties.agi in favor of straight dialplan
		*15.0.3.8* FREEPBX-18507
		*15.0.3.7* FREEPBX-18591 Disabled Option Allows Input
		*15.0.3.6* FREEPBX-18495
		*15.0.3.5* Add support for FREEPBX-17871
		*15.0.3.4* FREEPBX-18490 Fix missing functions
		*15.0.3.3* Adding back missing functions
		*15.0.3.2* FREEPBX-17953
		*15.0.3.1* FREEPBX-18289
		*15.0.2* Fixing FREEPBX-17953 Alert info headers getting set twice
		*15.0.1beta8* fix callback
		*15.0.1beta7* FREEPBX-18205
		*15.0.1beta6* FREEPBX-18176
		*15.0.1beta5* FREEPBX-18165 pjsip allow reload should be defaulted to yes
		*15.0.1beta4* FREEPBX-18161
		*15.0.1beta3* FREEPBX-18016 Trunk inbound Maximum Channels not honored.
		*15.0.1beta3* Rest Api
		*15.0.1beta2* FREEPBX-18027 PBXact - Basic Mode - Admin Users with only CDR allowed can still restart the setup wizard
		*15.0.1beta2* FREEPBX-18114 Fix edit of dahdididchannels
		*15.0.1beta2* FREEPBX-18016 Improving tool-tip for maximum channel field.
		*15.0.1alpha2* FREEPBX-17948 Fixe separator for global vairable  DYNAMIC_FEATURES
		*15.0.1alpha2* FREEPBX-17089 Follow Me with callconfirm doesn't work with external numbers
		*15.0.1alpha2* FREEPBX-17754 Bulk handler for virtual extension not working
		*15.0.1alpha2* FREEPBX-16782 - make sure we set the disabled trunk flag in the pjsip table as well as the trunks table when enabling and disabling trunks
		*15.0.1alpha2* FREEPBX-15833 FREEPBX-17630 In-call feature code *1 defined twice
		*15.0.1alpha2* FREEPBX-9493 Route Position dropdown menu missing items
		*15.0.1alpha2* FREEPBX-16782 Disable PJSIP write out when disabled.
		*15.0.1alpha2* FREEPBX-13173 CID Num Alias is used instead of Outbound CID in Follow Me outbound calls
		*15.0.1alpha2* FREEPBX-17067 Outgoing Faxes from UCP not using Extension's Caller ID
		*15.0.1alpha2* FREEPBX-17253 Inbound Route CID needs Withheld added
		*15.0.1alpha2* FREEPBX-16978 Add 'Answer' to inbound routes
		*15.0.1alpha2* FREEPBX-17157 PJSIP trunk, inbound PAI is not trusted - Add GUI option or set as default
		*15.0.1alpha2* FREEPBX-16782 Fix disabling registered trunks
		*15.0.1alpha2* FREEPBX-16966 Remove option from Menu selections
		*15.0.1alpha2* FREEPBX-16165 typo in On Demand Recording help text
		*15.0.1alpha2* FREEPBX-15767 Showing a part of code using French Language (extension -quick create)
		*15.0.1alpha2* FREEPBX-15778 PBXact Basic Mode Inbound Route
		*15.0.1alpha2* FREEPBX-16784 Remove requirement for PJSip trunks to have a port
		*15.0.1alpha2* FREEPBX-16645 Adding check to validate if IVR_CONTEXT is set or not
		*15.0.1alpha3* add support for pjsip media_address in trunk configuration
		*15.0.1alpha2* Bugfix/FREEPBX-16672 =&amp;gt; managing t38 for pjsip
		*15.0.1alpha2* Bugfix/FREEPBX-12299
		*15.0.1alpha2* FREEPBX-16526 regression checks coming into play
		*15.0.1alpha2* FREEPBX-16419 Fix trunks disable to use method to disable trunks.
		*15.0.1alpha1* Inital Release
	</changelog>
	<depends>
		<version>15.0.8.1</version>
	</depends>
	<database>
		<table name="trunks">
			<field name="trunkid" type="integer" default="0" primaryKey="true"/>
			<field name="name" type="string" length="50" default=""/>
			<field name="tech" type="string" length="20" primaryKey="true"/>
			<field name="outcid" type="string" length="40" default=""/>
			<field name="keepcid" type="string" length="4" default="off" notnull="false"/>
			<field name="maxchans" type="string" length="6" default="" notnull="false"/>
			<field name="failscript" type="string" length="255" default=""/>
			<field name="dialoutprefix" type="string" length="255" default=""/>
			<field name="channelid" type="string" length="190" default="" primaryKey="true"/>
			<field name="usercontext" type="string" length="255" notnull="false"/>
			<field name="provider" type="string" length="40" notnull="false"/>
			<field name="disabled" type="string" length="4" default="off" notnull="false"/>
			<field name="continue" type="string" length="4" default="off" notnull="false"/>
		</table>
		<table name="pjsip">
			<field name="id" type="string" length="20" default="-1" primaryKey="true"/>
			<field name="keyword" type="string" length="30" default="" primaryKey="true"/>
			<field name="data" type="string" length="255"/>
			<field name="flags" type="integer" default="0"/>
		</table>
		<table name="sip">
			<field name="id" type="string" length="20" default="-1" primaryKey="true"/>
			<field name="keyword" type="string" length="30" default="" primaryKey="true"/>
			<field name="data" type="string" length="255"/>
			<field name="flags" type="integer" default="0"/>
		</table>
		<table name="dahdi">
			<field name="id" type="string" length="20" default="-1" primaryKey="true"/>
			<field name="keyword" type="string" length="30" default="" primaryKey="true"/>
			<field name="data" type="string" length="255" default=""/>
			<field name="flags" type="integer" default="0"/>
		</table>
		<table name="iax">
			<field name="id" type="string" length="20" default="-1" primaryKey="true"/>
			<field name="keyword" type="string" length="30" default="" primaryKey="true"/>
			<field name="data" type="string" length="255"/>
			<field name="flags" type="integer" default="0"/>
		</table>
		<table name="indications_zonelist">
			<field name="name" type="string" length="80"/>
			<field name="iso" type="string" length="20" primaryKey="true"/>
			<field name="conf" type="blob" notnull="false"/>
		</table>
		<table name="devices">
			<field name="id" type="string" length="20" default=""/>
			<field name="tech" type="string" length="10" default=""/>
			<field name="dial" type="string" length="255" default=""/>
			<field name="devicetype" type="string" length="5" default=""/>
			<field name="user" type="string" length="50" notnull="false"/>
			<field name="description" type="string" length="50" notnull="false"/>
			<field name="emergency_cid" type="string" length="100" notnull="false"/>
			<field name="hint_override" type="string" length="100" notnull="false"/>
			<key name="id" type="index">
				<column name="id"/>
			</key>
			<key name="tech" type="index">
				<column name="tech"/>
			</key>
		</table>
		<table name="users">
			<field name="extension" type="string" length="20" default=""/>
			<field name="password" type="string" length="20" notnull="false"/>
			<field name="name" type="string" length="50" notnull="false"/>
			<field name="voicemail" type="string" length="50" notnull="false"/>
			<field name="ringtimer" type="integer" notnull="false"/>
			<field name="noanswer" type="string" length="100" notnull="false"/>
			<field name="recording" type="string" length="50" notnull="false"/>
			<field name="outboundcid" type="string" length="50" notnull="false"/>
			<field name="sipname" type="string" length="50" notnull="false"/>
			<field name="noanswer_cid" type="string" length="20" default=""/>
			<field name="busy_cid" type="string" length="20" default=""/>
			<field name="chanunavail_cid" type="string" length="20" default=""/>
			<field name="noanswer_dest" type="string" length="255" default=""/>
			<field name="busy_dest" type="string" length="255" default=""/>
			<field name="chanunavail_dest" type="string" length="255" default=""/>
			<field name="mohclass" type="string" length="80" default="default" notnull="false"/>
			<key name="extension" type="index">
				<column name="extension"/>
			</key>
		</table>
		<table name="incoming">
			<field name="cidnum" type="string" length="20" notnull="false"/>
			<field name="extension" type="string" length="50"/>
			<field name="destination" type="string" length="50" notnull="false"/>
			<field name="privacyman" type="boolean" notnull="false"/>
			<field name="alertinfo" type="string" length="255" notnull="false"/>
			<field name="ringing" type="string" length="20" notnull="false"/>
			<field name="fanswer" type="string" length="20" notnull="false"/>
			<field name="mohclass" type="string" length="80" default="default"/>
			<field name="description" type="string" length="80" notnull="false"/>
			<field name="grppre" type="string" length="80" notnull="false"/>
			<field name="delay_answer" type="integer" notnull="false"/>
			<field name="pricid" type="string" length="20" notnull="false"/>
			<field name="pmmaxretries" type="string" length="2" notnull="false"/>
			<field name="pmminlength" type="string" length="2" notnull="false"/>
			<field name="reversal" type="string" length="10" notnull="false"/>
			<field name="rvolume" type="string" length="2" default="" notnull="false"/>
			<field name="indication_zone" type="string" length="20" default="default" notnull="false"/>
		</table>
		<table name="outbound_routes">
			<field name="route_id" type="integer" primaryKey="true" autoincrement="true"/>
			<field name="name" type="string" length="40" notnull="false"/>
			<field name="outcid" type="string" length="40" notnull="false"/>
			<field name="outcid_mode" type="string" length="20" notnull="false"/>
			<field name="password" type="string" length="30" notnull="false"/>
			<field name="emergency_route" type="string" length="4" notnull="false"/>
			<field name="intracompany_route" type="string" length="4" notnull="false"/>
			<field name="mohclass" type="string" length="80" notnull="false"/>
			<field name="time_mode" type="string" length="20" default="" notnull="false"/>
			<field name="timezone" type="string" length="255" notnull="false"/>
			<field name="time_group_id" type="integer" notnull="false"/>
			<field name="calendar_id" type="string" length="255" notnull="false"/>
			<field name="calendar_group_id" type="string" length="255" notnull="false"/>
			<field name="dest" type="string" length="255" notnull="false"/>
		</table>
		<table name="dahdichandids">
			<field name="channel" type="integer" default="0" primaryKey="true"/>
			<field name="description" type="string" length="40" default=""/>
			<field name="did" type="string" length="60" default=""/>
		</table>
		<table name="outbound_route_patterns">
			<field name="route_id" type="integer" primarykey="true"/>
			<field name="match_pattern_prefix" type="string" length="60" default="" primarykey="true"/>
			<field name="match_pattern_pass" type="string" length="60" default="" primarykey="true"/>
			<field name="match_cid" type="string" length="60" default="" primarykey="true"/>
			<field name="prepend_digits" type="string" length="100" default="" primarykey="true"/>
		</table>
		<table name="outbound_route_sequence">
			<field name="route_id" type="integer" primarykey="true"/>
			<field name="seq" type="integer" primarykey="true"/>
		</table>
		<table name="outbound_route_trunks">
			<field name="route_id" type="integer" primarykey="true"/>
			<field name="trunk_id" type="integer" primarykey="true"/>
			<field name="seq" type="integer" primarykey="true"/>
		</table>
		<table name="outbound_routes">
			<field name="route_id" type="integer" primarykey="true" autoincrement="true"/>
			<field name="name" type="string" length="40" notnull="false"/>
			<field name="outcid" type="string" length="40" notnull="false"/>
			<field name="outcid_mode" type="string" length="20" notnull="false"/>
			<field name="password" type="string" length="30" notnull="false"/>
			<field name="emergency_route" type="string" length="4" notnull="false"/>
			<field name="intracompany_route" type="string" length="4" notnull="false"/>
			<field name="mohclass" type="string" length="80" notnull="false"/>
			<field name="time_group_id" type="integer" notnull="false"/>
			<field name="dest" type="string" length="255" notnull="false"/>
			<field name="time_mode" type="string" length="20" default="" notnull="false"/>
			<field name="calendar_id" type="string" length="255" notnull="false"/>
			<field name="calendar_group_id" type="string" length="255" notnull="false"/>
			<field name="timezone" type="string" length="255" notnull="false"/>
		</table>
		<table name="trunk_dialpatterns">
			<field name="trunkid" type="integer" default="0" primarykey="true"/>
			<field name="match_pattern_prefix" type="string" length="50" default="" primarykey="true"/>
			<field name="match_pattern_pass" type="string" length="50" default="" primarykey="true"/>
			<field name="prepend_digits" type="string" length="50" default="" primarykey="true"/>
			<field name="seq" type="integer" default="0" primarykey="true"/>
		</table>
	</database>
	<menuitems>
		<extensions needsenginedb="yes">Extensions</extensions>
		<users needsenginedb="yes">Users</users>
		<devices needsenginedb="yes">Devices</devices>
		<did needsenginedb="yes" category="Connectivity">Inbound Routes</did>
		<dahdichandids category="Connectivity">DAHDI Channel DIDs</dahdichandids>
		<routing category="Connectivity">Outbound Routes</routing>
		<trunks needsenginedb="yes" category="Connectivity">Trunks</trunks>
		<advancedsettings category="Settings">Advanced Settings</advancedsettings>
		<ampusers category="Admin">Administrators</ampusers>
		<astmodules category="Admin">Asterisk Modules</astmodules>
		<wiki category="Admin" requires_auth="false" href="http://www.freepbx.org/support-and-professional-services" target="_blank" access="all">FreePBX Support</wiki>
	</menuitems>
	<popovers>
		<extensions>
			<display>extensions</display>
			<view>quick</view>
		</extensions>
		<users>
			<display>users</display>
			<view>add</view>
		</users>
 	</popovers>
	<methods>
		<get_config pri="480">core_do_get_config</get_config>
	</methods>
	<console>
		<command>
			<name>trunks</name>
		</command>
	</console>
	<hooks>
		<bulkhandler namespace="FreePBX\modules" class="Bulkhandler" priority="100">
			<method namespace="FreePBX\modules" class="Core" callingMethod="getTypes">bulkhandlerGetTypes</method>
			<method namespace="FreePBX\modules" class="Core" callingMethod="getHeaders">bulkhandlerGetHeaders</method>
			<method namespace="FreePBX\modules" class="Core" callingMethod="validate">bulkhandlerValidate</method>
			<method namespace="FreePBX\modules" class="Core" callingMethod="import">bulkhandlerImport</method>
			<method namespace="FreePBX\modules" class="Core" callingMethod="export">bulkhandlerExport</method>
		</bulkhandler>
		<backup class="Backup" namespace="FreePBX\modules">
			<method callingMethod="getBackupSettingsDisplay" class="Core" namespace="FreePBX\modules">getBackupSettingsDisplay</method>
			<method callingMethod="processBackupSettings" class="Core" namespace="FreePBX\modules">processBackupSettings</method>
		</backup>
		<framework class="Config" namespace="FreePBX">
			<method callingMethod="updateSetting" class="Core" namespace="FreePBX\modules">updateFreePBXSetting</method>
			<method callingMethod="removeSetting" class="Core" namespace="FreePBX\modules">removeFreePBXSetting</method>
		</framework>
		<framework class="Start" namespace="FreePBX\Console\Command">
			<method callingMethod="postAsteriskHooks" class="Core" namespace="FreePBX\modules">startFreepbx</method>
		</framework>
		<framework class="Stop" namespace="FreePBX\Console\Command">
			<method callingMethod="preAsteriskHooks" class="Core" namespace="FreePBX\modules">stopFreepbx</method>
		</framework>
		<framework class="Reload" namespace="FreePBX">
			<method callingMethod="postReload" class="Core" namespace="FreePBX\Modules">postReloadFreepbx</method>
			<method callingMethod="preReload" class="Core" namespace="FreePBX\Modules">preReloadFreepbx</method>
		</framework>
	</hooks>
	<supported>
		<version>15.0</version>
	</supported>
</module>